<!DOCTYPE html>
<html>
  <head>
    <title>Data Analysis With R</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="slide.css"/>
  </head>
  <body>
    <textarea id="source">

layout:true

<p class="footer">
<span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Data Analysis with R</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://www.tinypanther.pizza" property="cc:attributionName" rel="cc:attributionURL">Julia Marden</a> and <a xmlns:cc="http://creativecommons.org/ns#" href="http://www.datapolitan.com" property="cc:attributionName" rel="cc:attributionURL">Richard Dunks</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative-Commons-License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
</p>

--

class:center, middle
# Data Analysis With R

- - -

## Instructors: Julia Marden and Richard Dunks
### Follow along at: http://bit.ly/data-analysis-r<br>See the code at: http://bit.ly/data-analysis-r-code
![img-center-70](images/tp_dp.png)

---

# Introduce Yourself to Your Neighbor
+ Name
+ Agency and Office
+ Previous Programming Experience

# Fill out Participant Information Form

---

# What to Expect Today

<!-- Need to update this -->

+ 10:15 – Welcome and Introductions

+ 10:25 – What is R?

+ 11:15 – 10 min break

+ 11:25 - Exercise

+ 12:30 – Dismissal

---

# What We're Making

![img-center-90](images/datavis-r.png)

---
name:housekeeping
# Housekeeping
<!-- Update this  -->
+ We’ll have one 10 minute break

+ Class will start promptly after break

+ Feel free to use the bathroom if you need during class

+ Please take any phone conversations into the hall to not disrupt the class

---

![img-right-40](images/r_logo.png)
# What is R?
--

+ Statistical programming language

--

+ [Open-source](https://opensource.com/resources/what-open-source)

--

+ Made for and by people who work with data

--

+ Used for data analysis

???

+ Familiarize students with basics of R and set context
+ "Created for and by the people" - Julia Marden

---

# What is Analysis?
--

>“Analysis is simply the pursuit of understanding, usually through detailed inspection or comparison”

## - Carter Hewgley, Director of Analytics, Center for Government Excellence

???
+ Orient students to key concept in analysis
+ Use R to uncover meaning in data

---

# 6 Steps of Analysis
![img-center-90](images/sixphases_1.jpg)

???
+ Establish frame for the analytics process to be followed in class
+ Familiarize students with terminology (esp "data wrangling/data cleaning")
+ Demystify the process
+ Empower students to do analysis

---

# Problem Statement
--

+ What question are we trying to answer?
--

+ Today we're going to give you a specific question to look at (derelict vehicles in one Community District in Brooklyn)
--

+ Think about how you might use this to answer your own questions


???
+ Students will understand the problem we're seeking to solve in class
+ Students will learn by example the value of problem setting.
+ This will be done by writing out explicit problem statement for 311 Noise, possibly vision 0 db after we have exercise.

---

# Data Collection
--

+ "It all starts with the data"
--

+ Can come from various sources (spreadsheets, databases, data warehouses)
--

+ There are some datasets already loaded in R for testing and training<br>
--
_This is how we're going to start working with R_
--

+ You can also download your own data into R<br>
--
_We'll be doing this after our first exercise_

???
+ Students will understand how to get data into R
+ This will be done by bullet points about the process

---

# [RStudio](https://www.rstudio.com/)

![img-center-80](images/rstudio.png)
### Find your student number and link in your workbook<br>.red[Username and Password: `rstudio`]

???
+ Introduce students to Console, Environment, and Help
+ Students will be familiar with the key features of the console for the exercises to come
+ This will be done by live demo and verbal discussion

---

# Exercise: Old Faithful

```
View(faithful)
```
![img-center-70](images/faithfulvis.png)
<!-- Add code snippets for str and summary -->
```
str(faithful)
summary(faithful)
```

???
+ Students will open and load a simple dataset.
+ They will inspect the data in the viewer and confirm it loaded properly.
+ This will be done by live demo of code
+ Students will be writing code themselves
+ Introduce basic commands and tab completion
+ Describe comments and their purpose
+ Emphasize cooperation between participants

---

# R Data Types

+ [Numeric](http://www.r-tutor.com/r-introduction/basic-data-types/numeric)
+ [Factor](https://www.stat.berkeley.edu/classes/s133/factors.html)
+ How do you know what kind of data you have?

???
+ Students will understand a few of the different data types in R
+ They will use the `str` and `summary` command
+ This will be done with a live demo of code

---

# R Data Structures

+ [Vectors](http://www.r-tutor.com/r-introduction/vector) and [matrices](http://www.r-tutor.com/r-introduction/matrix)

+ [Lists](http://www.r-tutor.com/r-introduction/list) and [data frames](http://www.r-tutor.com/r-introduction/data-frame)
+ Different structures allow you to do different things
+ We'll get into that more later
+ How can you tell?

???
+ Students will review work done in simple data load
+ They will learn key elements of data structures based on Faithful data
+ This will be done with live demo and discussion
+ They will use the `str` and `summary` command

---

# What is Syntax?

![img-center-80](images/syntax.png)
.caption[Image Credit: AnonMoos, Public Domain via [Wikipedia](https://commons.wikimedia.org/wiki/File%3ABasic_constituent_structure_analysis_English_sentence.svg)]

???
+ Students will get vocabulary for accomplishing tasks in code
+ This will be done with an overview discussion

---

# R Syntax

```R
# basic command

command(dataset)
View(faithful)

```
--

```R
# select a column

command(dataset$column)
mean(faithful$waiting)

```
--

```R
# get help

?help
?faithful

```

???
+ Students will be guided through basic syntax in R for simple tasks
+ This will be done with guided exercise/code demo

---

class:center,middle
# Data Exploration

???
+ This is the start of exercise 2 in summarizing available data

---

# Exercise: Summary Statistics

## > [Download Exercise](faithful_a.R)

![img-center-70](images/old_faithful.jpeg)
.caption[Image Credit: Astroval1, [CC BY-SA 4.0](http://creativecommons.org/licenses/by-sa/4.0) via [Wikimedia Commmons](https://commons.wikimedia.org/wiki/File%3ABig_Dipper_Ursa_Major_over_Old_Faithful_geyser_Yellowstone_National_Park_Wyoming_Astrophotography.jpg)]

???
+ Students will download script with prepared code snippets to run
+ Students will learn the steps of running summary statistics in R


---

exclude:true
# Do This
+ Open the dataset
+ Understand the data structure
+ Calculate summary statistics
+ Plot the data

???
+ Instructions for the self-paced section with data

---

# Exercise: 311 Data

<!-- Repeat skills with 311 dataset-->

## > [Download Exercise](311_a.R)

+ Open dataset
+ Identify data structure for the whole dataset and data types for 3 columns

???
+ Students will conduct the same commands from Faithful with 311 exercise
+ Students will hit the roadblocks
+ Can't run summary statistics
+ Exercise will be run through script showing comments (not on slide)
+ Script will mirror the Faithful with intention of not working

---

class:center,middle
# Data Manipulation
## i.e cleaning

???
+ start of section discussing manipulating data
+ picking up pieces from exercise where script failed
+ start of exercise 3

---

# Packages
--

+ Provide a set of pre-constructed functions
--

+ Usually for some specific task<br>
--
(accessing databases, creating charts, scraping the web)
--

+ If you need to do something, there's probably a package for it
--

+ This helps expand the core functionality of R
--

+ Import packages using the keyword [`library`](https://docs.python.org/3/tutorial/modules.html)

???
+ Students will understand the purpose and value of packages
+ This will be done with a discussion

---
exclude: true
# dplyr

???
+ Walk through previous example and add in packages
+ teach dplyr by making it work with example

---
exclude: true
# ggplot2

???
+ repeat from above
---
exclude: true
# lubridate

???
+ repeat from above

---

class:center,middle
# Algorithms

---

# What is an Algorithm?
--

+ A precise set of instructions required to accomplish a task
--

+ Comprised of three components: Inputs, Operation, Output
--

+ Each step in the operation must be clearly defined and work the same with any input

---

# [Example](https://www.linkedin.com/pulse/way-algorithm-claudia-perlich)
![img-center-100](images/cc_algo1.png)

---

.red[# Inputs]
![img-center-100](images/cc_algo2.png)

---

.red[# Operation]
![img-center-100](images/cc_algo3.png)

---

class:middle
.red[# Output]
![img-center-80](images/cake.jpg)

##### Credit: Flickr user [Patent and the Pantry](https://www.flickr.com/photos/26412869@N03/). Image used under a [Creative Commons BY-NC-ND 2.0 license](https://creativecommons.org/licenses/by-nc-nd/2.0/legalcode)

???
+ define algorithm as instructions for cake
+ Lecture with images

---

class:center,middle
# Test Hypotheses

???
+ Students will understand better the purpose of using code for analysis
+ Remind them we all have hypothesis -> need to be acknowledged

---

# Questions

+ How many?
+ Where?
+ When?

???
+ Prompts for starting your investigation of the data
+ Students will have a way to start exploring data
+ Discussion leading into guided exercise

---

# 311 Exercise

## > [Download Exercise](311_b.R)

+ count # of incidents in each borough

![img-center-70](images/datavis-r.png)

???
+ An example question of the 311 dataset
+ students will be walked through the exercise with a script
+ Prompts in the script with a more specific question
+ incidents per borough -> distribution of complaints


---

class:center,middle
# Data Verification

???
+ Start of new section and exercise

---

# Debugging
--

+ Everyone makes mistakes
--

+ It's just a matter of how serious they are<br>
--
_And fixing them_
--

+ **Semantic errors** -> doing the wrong things
--

+ **Syntax errors** -> using the wrong instructions
--

+ When in doubt, review the documentation

???
+ Students will be introduced to key concepts in identifying and resolving errors
+ This will be done with a lecture/discussion leading into an exercise
+ Class exercise finding errors in code -> slide with code snippets in Markdown with errors
+ deal with issue of correctness

---

# Exercise:

+ Debug your neighbor's R Script and verify results

???
+ Students will examine another student's code, run the code, and fix any errors
+ Students will have a better understanding of how to think in code
+ Goal is to get students talking to each other about their code
+ have documentation at end of slides

---

class:center,middle
# <a href="https://script.google.com/a/macros/datapolitan.com/s/AKfycbwMcE5pcJwZHdbSCN_2epwaXnRLSRPaLbHCAhxaZJ79UXaRpQ_l/exec" target="_blank">Click to submit your work</a>

---

class:middle,center
# Code Review

???
+ Students will review select code examples
+ Goal is to model a collaborative process for data analysis
+ Time buffer for end of class

---

class:center,middle
# Wrap Up

---

# R vs. Excel

+ Language vs. program

+ Big data

+ Different structures and data types

+ More potential
???
+ Students will be able to compare and contrast the two tools for data analysis

---

# New Orleans Distributes Smoke Alarms

![img-center-40](images/neworleansfire.jpeg)
.caption[Image Credit: Michael Barnett [CC BY-SA 2.5](http://creativecommons.org/licenses/by-sa/2.5), via Wikimedia Commons]

???
+ Students will be inspired to use their knowledge in practical applications

---

# Targeted Outreach Saves Lives

![img-center-90](images/nolasmokealarm.png)
.caption[Image Credit: City of New Orleans, via [nola.gov](http://nola.gov/performance-and-accountability/nolalytics/files/full-report-on-analytics-informed-smoke-alarm-outr/)]

???
+ Students will be inspired to use their knowledge in practical applications


---

# Targeted Outreach Saves Lives

![img-center-90](images/nolaimpact.png)
.caption[Image Credit: City of New Orleans, via [nola.gov](http://nola.gov/performance-and-accountability/nolalytics/files/full-report-on-analytics-informed-smoke-alarm-outr/)]

???
+ Students will be inspired to use their knowledge in practical applications

---

# And Here's the R Code for It
[![img-center-85](images/smoke_signals_github_outline.png)](https://github.com/enigma-io/smoke-signals-model)
[Click here for the code](https://github.com/enigma-io/smoke-signals-model)

---

# What We've Covered

+ R as a language

+ [RStudio](https://www.rstudio.com/)

+ Open a dataset

+ Explore a dataset

+ Visualize a dataset

+ What else?

???
+ Students will review progress and give feedback on key takeaways

---

# Final Thoughts
--

+ R is a powerful tool for cleaning, analyzing, and visualizing data

--

+ Integrating it into your workflow takes practice and a commitment to not giving up (Google is your friend)

--

+ [RStudio](https://www.rstudio.com/) makes it easy to get started

--

+ You should be able to [download R and RStudio on your work computer](https://ayeimanol-r.net/2014/01/16/getting-started-installation-of-rstudio-and-some-packages-using-ggplot-to-make-a-simple-plot/) (Use the zip/tarball option)

???
+ Instructors will reinforce key learning points with students

---

# Resources
--

+ [Stat Methods](http://statmethods.net) - Great documentation for doing data analysis in R

--

+ [UCLA Stats](http://www.ats.ucla.edu/stat/) - Many examples of statistical analysis with comparisons between R, Stata, SPSS, etc.

--

+ [Stack Overflow](http://stackoverflow.com/) - One of the best Q&A sites for technical questions of all kinds

--

+ [R Cookbook](http://www.cookbook-r.com/) - Free online walkthrough of the basics

???
+ Students will have key resources for moving forward in their learning

---

## Contact Information
## Julia Marden
+ Email: julia[at]tinypanther[dot]com
+ Website: http://tinypanther.com
+ Twitter: [@juliaem](https://twitter.com/juliaem)

## Richard Dunks
+ Email: richard[at]datapolitan[dot]com
+ Website: http://www.datapolitan.com
+ Twitter: [@datapolitan](https://twitter.com/datapolitan)


---

class:center, middle
# THANK YOU!

---

# Exploring Data

```R
View()
# show dataset as spreadsheet in Viewer
```
```R
str()
# identify data type and structure
```
```R
nrow()
# identify the number of rows
```
```R
ncol()
# identify the number of columns
```
```R
colnames()
# list the name of every column
```

---

# Manipulate Data

```R
sort()
# sort the values in a column
```
```R
data.frame()
# structure data into a matrix
```
```R
subset()
# extract data from a dataframe
```

---

# Calculating Summary statistics

```R
min()
# identify minimum value
```
```R
max()
# identify maximum value
```
```R
median()
# calculate median value
```
```R
mean()
# calculate mean value
```

---

# Visualizing Data

```R
hist()
# make a chart with numeric data
```
```R
plot()
# plot two numeric variables along an x-y axis
```
```R
abline()
# add a trendline to a plot
```
```R
table()
# make a table with factor data
```
```R
prop.table()
# make a table with percentages
```
```R
barplot()
# make a chart with factor data
```

    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create(
        // {
        //   slideNumberFormat: ""}
        );
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55673554-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
